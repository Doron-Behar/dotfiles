# change prefix-key:
set-option -g prefix C-d
unbind-key C-b
bind-key C-d send-prefix
set-option -g mode-keys vi
# key-bindings for manipulating windows and panes
# - unbind old keys:
unbind-key p
unbind-key n
unbind-key M-Up
unbind-key M-Down
unbind-key M-Left
unbind-key M-Right
unbind-key C-Up
unbind-key C-Down
unbind-key C-Left
unbind-key C-Right
unbind-key Up
unbind-key Down
unbind-key Left
unbind-key Right
# - bind page-up and page-down recursively for window navigation:
bind-key -n C-PageUp previous-window
bind-key -n C-PageDown next-window
# - bind Shift+PageUp/PageDown for moving windows around like in chrome:
bind-key -n M-PageUp swap-window -t -1
bind-key -n M-PageDown swap-window -t +1
# resizing panes in the true spirit of vim:
bind-key -r -n M-Right resize-pane -R
bind-key -r -n M-Left resize-pane -L
bind-key -r -n M-Down resize-pane -D
bind-key -r -n M-Up resize-pane -U
# make layout configurations more like in vim:
# - tmux+vim navigation plugin:
is_vim='echo "#{pane_current_command}" | grep -iqE "(^|\/)g?(view|n?vim?x?)(diff)?$"'
bind -n C-h if-shell "$is_vim" "send-keys C-h" "select-pane -L"
bind -n C-j if-shell "$is_vim" "send-keys C-j" "select-pane -D"
bind -n C-k if-shell "$is_vim" "send-keys C-k" "select-pane -U"
bind -n C-l if-shell "$is_vim" "send-keys C-l" "select-pane -R"
bind -n C-\ if-shell "$is_vim" "send-keys C-\\" "select-pane -l"
bind -r C-h run "tmux select-pane -L"
bind -r C-j run "tmux select-pane -D"
bind -r C-k run "tmux select-pane -U"
bind -r C-l run "tmux select-pane -R"
bind -r C-\ run "tmux select-pane -l"
unbind-key M-1
unbind-key M-2
unbind-key M-3
unbind-key M-4
unbind-key M-5
bind-key | resize-pane -x 200
bind-key _ resize-pane -y 200
unbind-key [
unbind-key ]
bind-key C-c copy-mode
bind-key C-v paste-buffer
# make the use of e and w more like in my .vimrc
bind-key -t vi-copy e next-word
bind-key -t vi-copy w previous-word
# make new windows/panes open in the same
# dirctory in which they were opened from:
bind-key c new-window -c '#{pane_current_path}'
bind-key '"' split-window -c '#{pane_current_path}'
bind-key % split-window -h -c '#{pane_current_path}'
# make renaming window process easier
bind-key , command-prompt -I "rename-window "
# make renaming current session easier:
bind-key '$' command-prompt -I "rename-session "
# Enable running a command in all panes and windows:
bind E command-prompt -p "Command:" \
	"run \"tmux list-sessions                  -F '##{session_name}'        | xargs -I SESS \
		tmux list-windows  -t SESS          -F 'SESS:##{window_index}'   | xargs -I SESS_WIN \
		tmux list-panes    -t SESS_WIN      -F 'SESS_WIN.##{pane_index}' | xargs -I SESS_WIN_PANE \
		tmux send-keys     -t SESS_WIN_PANE '%1' Enter\""
# vim:ft=tmux
