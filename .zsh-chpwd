# `task context` wrapper with support for env variable TCS silencing it.
_task_context(){
	if [[ -z "$1" ]]; then
		_task_context_default
	else
		if [[ -z $TCS ]]; then
			task context "$@"
		elif [[ $TCS == 1 ]]; then
			task context "$@" > /dev/null
		else
			task context "$@" &> /dev/null
		fi
	fi
}

function chpwd() {
	CONTEXT="$(context.awk ~/.local/share/tasks/contexts.txt)"
	if [[ -z ${CONTEXT} ]]; then
		_task_context
	else
		_task_context ${CONTEXT}
	fi
}
chpwd

